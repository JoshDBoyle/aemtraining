<sly data-sly-use.clientLib="${'/libs/granite/sightly/templates/clientlib.html'}" />
<sly data-sly-call="${clientLib.css @ categories='cpc'}" />

<sly data-sly-include="${'agents-info-modal.html'}"/>
<sly data-sly-include="${'query-by-date-modal.html'}"/>

<div data-sly-use.cpcuse="org.kp.cpc.wcmuse.CPCUse">
  <div class="command-bar">
    <button id="all-agents-list-button" class="coral-MinimalButton">
      <i class="coral-Icon coral-Icon--book coral-MinimalButton-icon"></i>
      <div>Agent Listing</div>
    </button>
    <button id="query-by-date-button" class="coral-MinimalButton">
      <i class="coral-Icon coral-Icon--question coral-MinimalButton-icon"></i>
      <div>Reporting</div>
    </button>
  </div>
  <div class="coral-TabPanel coral-TabPanel--large" data-init="tabs">
    <nav data-sly-list="${cpcuse.agentGroups}" class="coral-TabPanel-navigation">
      <a class="coral-TabPanel-tab ${itemList.first ? 'is-active' : ''}" data-toggle="tab">${item.title}</a>
    </nav>
    <div data-sly-list="${cpcuse.agentGroups}" class="coral-TabPanel-content">
      <section class="coral-TabPanel-pane is-active">
        <div class="agent-disable-wrapper">
          <div class="coral-ButtonGroup ">
            <button class="group-toggle coral-ButtonGroup-item coral-Button coral-Button--secondary">
              <i class="coral-Icon coral-Icon--pauseCircle"></i>
              Disable all ${item.title} agents
            </button>
            <button class="group-toggle coral-ButtonGroup-item coral-Button coral-Button--secondary">
              <i class="coral-Icon coral-Icon--playCircle"></i>
              Enable all ${item.title} agents
            </button>
          </div>
        </div>
        <!-- Listing of Replication Agents -->
        <div data-sly-list.agent="${item.agentMetas}">
          <div class="agent coral-Well">
            <div class="agent-header">
              <div class="agent-id">${agent.agentId}</div>
              <label class="agent-toggle coral-Switch" data-id="${agent.agentId}">
                <sly data-sly-test="${agent.enabled}">
                  <input class="coral-Switch-input" type="checkbox" checked>
                </sly>
                <sly data-sly-test="${!agent.enabled}">
                  <input class="coral-Switch-input" type="checkbox">
                </sly>
                <span class="coral-Switch-offLabel">Off</span>
                <span class="coral-Switch-onLabel">On</span>
              </label>
            </div>
            <div class="agent-status coral-Alert coral-Alert--success">
              <i class="coral-Alert-typeIcon coral-Icon coral-Icon--sizeS coral-Icon--checkCircle"></i>
              <div class="coral-Alert-message">Queue operating normally</div>
            </div>
            <div class="agent-queue coral-Well">
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
              <a href="/content/geometrixx/en/products.html">/content/geometrixx/en/products</a>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  
  <!-- Last activation section -->
  <div class="coral-Well">
    
  </div>
</div>

<sly data-sly-call="${clientLib.js @ categories='cpc'}" />